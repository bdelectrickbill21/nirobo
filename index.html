<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nirobo ‚Äî Curated Search</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #f0fdf4;
      color: #222;
    }

    .intro {
      background-color: #004d00;
      color: white;
      padding: 30px 20px;
      text-align: center;
    }

    .intro h1 {
      font-size: 48px;
      letter-spacing: 2px;
    }

    .intro h1 span {
      color: #ffffff;
    }

    .intro h1 .green {
      color: #006400;
    }

    .intro h1 .red {
      color: #ff0000;
    }

    .intro p {
      font-size: 16px;
      margin-top: 10px;
      font-style: italic;
    }

    .search-bar {
      display: flex;
      justify-content: center;
      padding: 20px;
      background-color: #e6ffe6;
    }

    .search-bar input {
      width: 60%;
      padding: 12px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 6px 0 0 6px;
    }

    .search-bar button {
      padding: 12px 20px;
      background-color: #d40000;
      color: white;
      border: none;
      border-radius: 0 6px 6px 0;
      cursor: pointer;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
      padding: 30px;
    }

    .card {
  background-color: #228B22; /* Green */
  color: white;
  padding: 20px;
  border-radius: 8px;
  text-align: center;
  font-weight: bold;
  cursor: pointer;
  margin: 10px 0;
    }

    .login-section {
      background-color: #f9f9f9;
      padding: 30px;
      text-align: center;
    }

    .login-section input {
      margin: 5px;
      padding: 10px;
      width: 200px;
    }

    .login-section button {
      margin: 5px;
      padding: 10px 20px;
      background-color: #006400;
      color: white;
      border: none;
      cursor: pointer;
    }

    footer {
      background-color: #222;
      color: #ccc;
      padding: 20px;
      text-align: center;
      font-size: 14px;
    }

    .ai-chat-button {
  background-color: #ff0000; /* Red to match your search button */
  color: #fff;
  padding: 15px;
  font-weight: bold;
  border: none;
  border-radius: 6px;
  box-shadow: 0 0 10px rgba(255, 0, 0, 0.3);
    }
  </style>
</head>
<body>

  <!-- Cinematic Intro -->
  <div class="intro">
    <h1>
  <span class="green">N</span>
  <span class="green">I</span>
  <span class="green">R</span>
  <span class="red">O</span>
  <span class="green">B</span>
  <span class="green">O</span>
</h1>
    <p>A new journey born from invisible sound, shaped by red struggle, echoing the outcry of rights, bound by language, and united in the oneness of silence.</p>
  </div>

  <div class="search-bar">
  <input id="searchInput" type="text" placeholder="Search the web of Bangladesh..." />
  <button id="searchBtn">Search</button>
  </div>


  <!-- Category Grid -->
  <div class="grid">
    <div class="card">News Portal</div>
    <div class="card">Business & Finance</div>
    <div class="card">Healthcare</div>
    <div class="card">Jobs</div>
    <div class="card">Education</div>
    <div class="card" onclick="window.location.href='chat.html'">Local AI Chat</div>
  </div>

  <!-- User Submission Form -->
<div class="login-section">
  <h3>Submit Your Website</h3>
  <p>Help make Nirobo better by adding your website.</p>
  
  <form id="submitForm">
    <input id="websiteTitle" type="text" placeholder="Website Title" required style="width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ccc; border-radius: 4px;" />
    <input id="websiteUrl" type="url" placeholder="https://yourwebsite.com" required style="width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ccc; border-radius: 4px;" />
    <textarea id="websiteDesc" placeholder="Description of your website" required style="width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ccc; border-radius: 4px; height: 80px;"></textarea>
    <input id="websiteTags" type="text" placeholder="Tags (comma separated): news, education, bangla" style="width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ccc; border-radius: 4px;" />
    
    <button type="submit" style="background: #006400; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; margin-top: 10px;">Submit Website</button>
  </form>

  <p style="margin-top: 20px; font-size: 0.9em; color: #666;">
    Submitted websites will be reviewed by Nirobo curators before appearing in search.
  </p>
</div>

  <!-- Admin Data Editor (Hidden by default) -->
<div id="adminPanel" style="display:none; margin-top: 30px; padding: 20px; background: #fff; border-radius: 8px; color: #000;">
  <h3>üìù Manage Search Results</h3>
  <p>Add or update websites that appear in Nirobo search results.</p>
  
  <div style="margin-bottom: 15px;">
    <label>Title:</label><br>
    <input type="text" id="entryTitle" placeholder="e.g., Prothom Alo" style="width: 100%; padding: 8px; margin: 5px 0;">
  </div>
  
  <div style="margin-bottom: 15px;">
    <label>URL:</label><br>
    <input type="text" id="entryUrl" placeholder="https://example.com" style="width: 100%; padding: 8px; margin: 5px 0;">
  </div>
  
  <div style="margin-bottom: 15px;">
    <label>Description:</label><br>
    <textarea id="entryDesc" placeholder="Brief description of the website" style="width: 100%; padding: 8px; margin: 5px 0; height: 60px;"></textarea>
  </div>
  
  <div style="margin-bottom: 15px;">
    <label>Tags (comma separated):</label><br>
    <input type="text" id="entryTags" placeholder="news, media, bangla" style="width: 100%; padding: 8px; margin: 5px 0;">
  </div>
  
  <button id="addEntry" style="background: #006400; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer;">Add Entry</button>
  <button id="saveAll" style="background: #d40000; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px;">Save All Data</button>
  
  <div id="currentEntries" style="margin-top: 20px; max-height: 300px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; border-radius: 4px;">
    <h4>Current Entries:</h4>
    <div id="entriesList"></div>
  </div>
</div>

  <!-- Footer -->
  <footer>
    Made in Bangladesh üáßüá© | Curated by Nirobo<br>
    Honoring the Language Movement and the Silent Legacy of Justice<br>
    Crafted by KH. AL SHAIF ‚Äî for truth, clarity, and cultural dignity
  </footer>

  <script>
  document.getElementById('searchBtn').onclick = () => {
    const query = document.getElementById('searchInput').value.trim();
    if (query) {
      window.location.href = `search.html?q=${encodeURIComponent(query)}`;
    } else {
      alert("Please enter a search term.");
    }
  };
  </script>
  <script>
// Load and display current data
function loadCurrentData() {
  const saved = localStorage.getItem('niroboResults');
  return saved ? JSON.parse(saved) : [];
}

function displayEntries() {
  const entries = loadCurrentData();
  const list = document.getElementById('entriesList');
  list.innerHTML = '';

  entries.forEach((entry, index) => {
    const entryDiv = document.createElement('div');
    entryDiv.innerHTML = `
      <div style="padding: 10px; border-bottom: 1px solid #eee; margin-bottom: 10px;">
        <strong>${entry.title}</strong> - ${entry.url}<br>
        <small>${entry.description}</small><br>
        <em>Tags: ${entry.tags.join(', ')}</em><br>
        <button onclick="deleteEntry(${index})" style="background: #d40000; color: white; border: none; padding: 3px 8px; border-radius: 3px; margin-top: 5px;">Delete</button>
      </div>
    `;
    list.appendChild(entryDiv);
  });
}

// Delete entry
function deleteEntry(index) {
  let entries = loadCurrentData();
  entries.splice(index, 1);
  localStorage.setItem('niroboResults', JSON.stringify(entries));
  displayEntries();
  alert('Entry deleted!');
}

// Save to localStorage
function saveToLocalStorage(updatedData) {
  localStorage.setItem('niroboResults', JSON.stringify(updatedData));
  alert('‚úÖ Data saved to localStorage! This will be used if result.json fails.');
  displayEntries();
}

// Handle Add Entry
document.getElementById('addEntry')?.addEventListener('click', () => {
  const title = document.getElementById('entryTitle').value.trim();
  const url = document.getElementById('entryUrl').value.trim();
  const desc = document.getElementById('entryDesc').value.trim();
  const tags = document.getElementById('entryTags').value.split(',').map(tag => tag.trim()).filter(tag => tag);

  if (!title || !url) {
    alert('Please enter at least Title and URL.');
    return;
  }

  const newEntry = {
    title,
    url,
    description: desc || "No description provided.",
    tags: tags.length ? tags : ["general"],
    approved: true
  };

  let entries = loadCurrentData();
  entries.push(newEntry);
  saveToLocalStorage(entries);

  // Clear form
  document.getElementById('entryTitle').value = '';
  document.getElementById('entryUrl').value = '';
  document.getElementById('entryDesc').value = '';
  document.getElementById('entryTags').value = '';
});

// Handle Save All (in case you manually edit the array)
document.getElementById('saveAll')?.addEventListener('click', () => {
  const entries = loadCurrentData();
  saveToLocalStorage(entries);
});

// Show admin panel on login (for demo, we'll show it on "Log In" click)
document.getElementById('login')?.addEventListener('click', () => {
  // In real app, verify credentials first
  const email = document.getElementById('emailInput').value;
  if (email.endsWith('@nirobo.admin')) { // Simple "admin check"
    document.getElementById('adminPanel').style.display = 'block';
    displayEntries();
  } else {
    alert('Only admin emails (@nirobo.admin) can access the data editor.');
  }
});

// Also show if localStorage already has data
if (localStorage.getItem('niroboResults')) {
  displayEntries();
}
  </script>
  <script>
// Load pending submissions from localStorage
function loadPendingSubmissions() {
  const saved = localStorage.getItem('niroboPendingSubmissions');
  return saved ? JSON.parse(saved) : [];
}

// Save pending submissions
function savePendingSubmissions(submissions) {
  localStorage.setItem('niroboPendingSubmissions', JSON.stringify(submissions));
}

// Handle form submission
document.getElementById('submitForm')?.addEventListener('submit', (e) => {
  e.preventDefault();

  const title = document.getElementById('websiteTitle').value.trim();
  const url = document.getElementById('websiteUrl').value.trim();
  const desc = document.getElementById('websiteDesc').value.trim();
  const tags = document.getElementById('websiteTags').value.split(',').map(tag => tag.trim()).filter(tag => tag);

  if (!title || !url) {
    alert('Please enter a title and URL.');
    return;
  }

  // Create submission object
  const submission = {
    title,
    url,
    description: desc,
    tags: tags.length ? tags : ["general"],
    submittedAt: new Date().toISOString(),
    status: "pending"
  };

  // Get existing submissions
  let submissions = loadPendingSubmissions();
  submissions.push(submission);
  savePendingSubmissions(submissions);

  // Reset form
  document.getElementById('submitForm').reset();

  alert('‚úÖ Thank you! Your website has been submitted for review.');
});
  </script>
</body>
</html>
